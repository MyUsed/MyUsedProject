<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC '-//ibatis.apache.org//DTD Sql Map 2.0//EN' 'http://ibatis.apache.org/dtd/sql-map-2.dtd'>
<sqlMap namespace="member">

	<insert id="insertMem"  parameterClass="member.MemberDTO">
		insert into memberlist values(sq_memberlist.NEXTVAL, #id#, #name#, #password#, #birthdate#, #gender#, #naverid#)
	</insert>

	<!-- 가입되어 있는 아이디인지 체크(네이버) -->
	<select id="checkNaverId" resultClass="int" parameterClass="String">
		select count(*) from memberlist where naverid=#naverid#
	</select>
	
	<select id="checkId" resultClass="int" parameterClass="String">
		select count(*) from memberlist where id=#id#
	</select>

	<!-- 가입된 아이디인지 체크(일반) -->
	<select id="loginCheck" resultClass="int" parameterClass="java.util.Map">
		select count(*) from memberlist where id=#id# and password=#password#
	</select>

	<select id="selectName" resultClass="String" parameterClass="String">
		select name from memberlist where id=#id#
	</select>
	
	<select id="searchMember" resultClass="member.MemberDTO" parameterClass="String">
		select * from memberlist where name like '%'||#name#||'%' order by num desc
	</select>

	<select id="joinedNaverId" resultClass="int" parameterClass="String">
		select naverid from (select * from memberlist where id=#id#)
	</select>


</sqlMap>