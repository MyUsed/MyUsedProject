<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC '-//ibatis.apache.org//DTD Sql Map 2.0//EN' 'http://ibatis.apache.org/dtd/sql-map-2.dtd'>
<sqlMap namespace="admin">
	
	
	<!-- id가 들어있는지 확인하는 sql  -->
	<select id="checkId" resultClass="int" parameterClass="java.util.Map">
		select count(*) from adminlist where id=#id# and pw=#pw#
	</select>
	
	 <!-- 개인사진 db에 저장하기 위해  -->
   	<insert id="adminCreate" parameterClass="admin.AdminListDTO">
      insert into adminlist values(adminlist_seq.NEXTVAL, #id#, #pw#, #name#, #grade#, #part#, sysdate)
   	</insert>
   	
   	<!-- 관리자 정보를 가져오는 sql -->
   	<select id="adminSelect" resultClass="admin.AdminListDTO">
   	  select * from adminlist order by seq_num desc
   	</select>
   	
   	<!-- 관리자 게정 삭제 하는 sql -->
   	<delete id="adminDelete" parameterClass="String">
   	  delete from adminlist where id = #id#
   	</delete>
   	
   	<!-- 계정 하나의 정보를 가져오는 sql -->
   	<select id="adminMemSelect" parameterClass="int" resultClass="admin.AdminListDTO">
   		select * from adminlist where seq_num = #seq_num#
   	</select>
   	
   	<!-- admin의 정보수정  -->
   	<update id="updateAdmin" parameterClass="java.util.Map">
   		update adminlist set grade = #grade# , part = #part# where seq_num=#seq_num#
   	</update>
   	
   	<!-- admin 등급 검색  -->
   	<select id="searchGrade" parameterClass="String" resultClass="admin.AdminListDTO">
   		select * from adminlist where grade = #grade# order by seq_num desc
   	</select>
   	  	<!-- admin part 검색  -->
   	<select id="searchPart" parameterClass="String" resultClass="admin.AdminListDTO">
   		select * from adminlist where part = #part# order by seq_num desc
   	</select>
   	 	<!-- admin part 검색  -->
   	<select id="GradePart" parameterClass="java.util.Map" resultClass="admin.AdminListDTO">
   		select * from adminlist where part = #part# and grade = #grade# order by seq_num desc
   	</select>
   		<!-- admin id 검색  -->
   	<select id="searchAdminId" parameterClass="String" resultClass="admin.AdminListDTO">
   		select * from adminlist where id like '%'||#search#||'%' order by seq_num desc
   	</select>
   			<!-- admin name 검색  -->
   	<select id="searchAdminName" parameterClass="String" resultClass="admin.AdminListDTO">
   		select * from adminlist where name like '%'||#search#||'%' order by seq_num desc
   	</select>





</sqlMap>